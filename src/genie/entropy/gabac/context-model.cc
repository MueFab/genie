/**
 * @file
 * @copyright This file is part of GENIE. See LICENSE and/or
 * https://github.com/MueFab/genie for more details.
 */

#include "genie/entropy/gabac/context-model.h"

// ---------------------------------------------------------------------------------------------------------------------

namespace genie::entropy::gabac {

// ---------------------------------------------------------------------------------------------------------------------

ContextModel::ContextModel(const unsigned char initState) {
    const unsigned char valMps = initState >= 64;
    m_state = ((valMps ? initState - 64 : 63 - initState) << 1) + valMps;
}

// ---------------------------------------------------------------------------------------------------------------------

ContextModel::~ContextModel() = default;

// ---------------------------------------------------------------------------------------------------------------------

}  // namespace genie::entropy::gabac

// ---------------------------------------------------------------------------------------------------------------------
// ---------------------------------------------------------------------------------------------------------------------
